<!DOCTYPE html>
<html>
<head>
    <title>Music Sync</title>
</head>
<body>
    <h1>Music Sync App</h1>

    <button id="create">Create Room (Host)</button>

    <p id="output"></p>

    <script>
        const btn = document.getElementById("create");
        const output = document.getElementById("output");

        btn.onclick = () => {
            const room = Math.random().toString(36).substring(2, 8);

            const guestLink = `${window.location.origin}/client.html?room=${room}`;

            output.innerHTML = `
                <b>Share this link with guests:</b><br>
                <a href="${guestLink}" target="_blank">${guestLink}</a><br><br>
                <button onclick="goHost('${room}')">Go to Host Controls</button>
            `;
        };

        function goHost(room) {
            window.location.href = `/host.html?room=${room}`;
        }
    </script>
</body>
</html>
